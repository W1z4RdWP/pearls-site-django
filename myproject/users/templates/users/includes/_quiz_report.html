{% extends "layout.html" %}
{% block content %}
<h2>Детальный отчет по тесту: {{ result.quiz_title }}</h2>
<p>Правильных ответов: {{ result.score }}/{{ result.total_questions }}</p>
<ul class="list-group">
    {% for item in questions %}
    <li class="list-group-item">
        <strong>{{ forloop.counter }}. {{ item.question.text }}</strong><br>
        Ваш ответ: 
        {% if item.selected %}
            {{ item.selected.text }}
        {% else %}
            <span class="text-muted">Нет ответа</span>
        {% endif %}
        <br>
        {% if item.is_correct %}
            <span class="text-success">Верно</span>
        {% else %}
            <span class="text-danger">Неверно</span><br>
            Правильный ответ: 
            {% for ans in item.correct_answers %}
                {{ ans.text }}{% if not forloop.last %}, {% endif %}
            {% endfor %}
        {% endif %}
    </li>
    {% endfor %}
</ul>
<a href="{% url 'profile' %}" class="btn btn-secondary mt-3">Назад к профилю</a>
{% endblock %}
